@import models.Mission

@main("mission manager", true) {

    <h2>Manage missions</h2>
    <div class="form-horizontal" role="form">
        <div class="form-group">
            <label class="col-sm-2 control-label" for="selectAction">Action</label>
            <div class="col-sm-3">
                <select id="selectAction" name="action" class="form-control">
                    <option value="create">Create</option>
                    <option value="delete">Delete</option>
                </select>
            </div>
        </div>
        @helper.form(action = routes.Application.addDeviceType, 'enctype -> "multipart/form-data") {
        <div id="missionListContainer" class="form-group" style="display: none">
            <label class="col-sm-2 control-label" for="selectMission">Mission</label>
            <div class="col-sm-3">
                <select id="selectMission" name="action" class="form-control">
                    @for(m <- Mission.getAll) {
                    <option value="@m.id">@m.departureTime</option>
                    }
                </select>
            </div>
        </div>
        <div id="fieldsContainer">
            <div class="form-group">
                <label class="col-sm-2 control-label" for="selectDate">Date</label>
                <div id="selectDate" name="missionDate" class="bfh-datepicker col-sm-3"></div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="selectTime">Time</label>
                <div id="selectTime" name="missionTime" class="bfh-timepicker col-sm-3"></div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="selectVehicle">Vehicle</label>
                <div class="col-sm-3">
                    <select id="selectVehicle" name="misionVehicle" class="form-control">
                        <option value="ulm">ULM</option>
                        <option value="catamaran">Catamaran</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-2 control-label" for="selectTimezone">Timezone</label>
                <div class="col-sm-3">
                    <select id="selectTimezone" name="missionTimezone" class="form-control">
                        <option value="GMT">GMT</option>
                        <option value="GMT+1">GMT+1</option>
                        <option value="GMT+2">GMT+2</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button id="submitBtn" type="submit" class="btn">Create</button>
            </div>
        </div>
    </div>
    <script src="@routes.Assets.at("javascripts/bootstrap-formhelpers.min.js")" type="text/javascript"></script>
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/bootstrap-formhelpers.css")">
    <script>
        $().ready(function() {
            //$( "#inputMissionDate" ).datepicker();
            $('#selectAction').change(function(ev) {
                var action = $('#selectAction').val();
                if (action == 'create') {
                    $('#missionListContainer').hide();
                    $('#fieldsContainer').show();
                    $('#submitBtn').text("Create");
                } else {
                    $('#missionListContainer').show();
                    $('#fieldsContainer').hide();
                    $('#submitBtn').text("Delete");
                }
            });
        })
    </script>
    }
}